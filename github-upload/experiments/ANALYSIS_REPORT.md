# 🔍 Axobase MVP V2 实验深度分析报告

> **实验版本**: V2 (30 USDC 初始余额)  
> **分析时间**: 2026-02-23  
> **核心问题**: 实验为何结束？为何没有繁殖？

---

## 📌 实验结束原因分析

### 结论：外部中断，非条件触发

```
实验状态: isRunning: true, isCompleted: false
结束原因: 进程被外部停止 (SIGINT / 超时 / 手动停止)
```

### 证据

| 检查项 | 结果 |
|--------|------|
| 结束条件A (余额>500) | ❌ 未触发 (最高 28.72 USDC) |
| 结束条件B (年龄>720) | ❌ 未触发 (最大 17 ticks) |
| 结束条件C (后代>50%) | ❌ 未触发 (0 后代) |
| 全部死亡 | ❌ 未触发 (10/10 存活) |
| isCompleted 标志 | ❌ 仍为 false |

### 结束过程还原

```
Tick 13: 实验正常运行 (年龄 17, 余额 26.01)
        ↓
[进程被外部停止]  ← 可能是：
        ↓          1. 命令执行超时 (300s 限制)
数据停止记录      2. 手动 Ctrl+C
        ↓          3. 系统资源限制
API 服务关闭
```

---

## 🐣 繁殖未触发原因深度分析

### 繁殖条件检查清单

根据代码 `src/lifecycle/breeding.ts` 第 56-99 行：

| 条件 | 要求 | Tick 13 实际 | 是否满足 |
|------|------|--------------|----------|
| **1. 阶段** | 必须是 `adult` 或 `senescent` | `juvenile` | ❌ **不满足** |
| **2. 年龄** | ≥ 10 ticks | 17 ticks | ✅ 满足 |
| **3. 余额** | ≥ 11 USDC (8+3) | 平均 26 USDC | ✅ 满足 |
| **4. 冷却期** | 15 ticks 已过 | 从未繁殖 | ✅ 满足 |

### 核心问题：发育阶段

```
发育阶段时间线:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
 0-9 ticks:   NEONATE    (新生儿期)    ❌ 不能繁殖
10-29 ticks:  JUVENILE   (幼年期)      ❌ 不能繁殖  ← 实验结束在这里
30+ ticks:    ADULT      (成年期)      ✅ 可以繁殖
80%寿命+:     SENESCENT  (衰老期)      ✅ 可以繁殖
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

实验最大年龄: 17 ticks
所需年龄:     30 ticks (进入 ADULT)
差距:         还需要 13 ticks (约 13 分钟)
```

### 代码验证

```typescript
// src/lifecycle/breeding.ts 第 68-71 行
if (stage !== DevelopmentStage.ADULT && stage !== DevelopmentStage.SENESCENT) {
  return { canBreed: false, reason: 'not_adult' };
}

// src/lifecycle/development.ts 第 35-43 行
if (tick < CONSTANTS.NEONATE_DURATION + CONSTANTS.JUVENILE_DURATION) {
  // NEONATE (10) + JUVENILE (20) = 30 ticks
  return { stage: DevelopmentStage.JUVENILE, canReproduce: false };
}
```

---

## 📊 V2 实验数据总结

### 基础统计

| 指标 | 数值 |
|------|------|
| 总 Ticks | 13 |
| 监控时长 | ~13 分钟 |
| 初始余额 | 30 USDC |
| 最终平均余额 | 26.01 USDC |
| 余额变化 | -13.3% (亏损) |
| 存活率 | 100% (10/10) |
| 死亡率 | 0% |
| 繁殖率 | 0% |

### 资金分析

```
初始: 30.00 USDC
最终: 26.01 USDC (-13.3%)

资金流向:
├── 运营成本: $0.137 (计算 + 推理 + Gas)
├── 投资损失: ~3.85 USDC (DeFi/任务亏损)
└── 锁定资本: 142.21 USDC (DeFi 仓位)
```

### 关键时间节点

| Tick | 年龄 | 阶段 | 平均余额 | 事件 |
|------|------|------|----------|------|
| 1 | 5 | neonate | 18.38 | 初始状态 |
| 6 | 10 | **juvenile** | 25.32 | 进入幼年期 |
| 13 | 17 | juvenile | 26.01 | 实验结束 |

---

## 🔍 对比分析：V1 vs V2

### 实验时长对比

| 版本 | 初始余额 | 监控时长 | 最大年龄 | 是否到成年 |
|------|----------|----------|----------|------------|
| V1 | 20 USDC | 14.35 分钟 | 20 ticks | ❌ 未到 |
| V2 | 30 USDC | 13 分钟 | 17 ticks | ❌ 未到 |

### 关键差异

| 指标 | V1 (20 USDC) | V2 (30 USDC) | 分析 |
|------|--------------|--------------|------|
| 最低余额 | ~0 (危险) | 24.43 (安全) | V2 更稳定 |
| 资金波动 | 剧烈 (-47%) | 平缓 (-28%) | V2 更稳健 |
| 锁仓率 | 0-70% | 63-80% | V2 更积极参与 DeFi |
| 最高余额 | 6.92 | 28.72 | V2 绝对值更高 |

---

## 💡 关键发现

### 1. 繁殖需要更长的实验时间

```
到达成年所需: 30 ticks = 30 分钟 (按 60s/tick)
实验运行:     13-17 ticks = 13-17 分钟
差距:         还需要 13-17 分钟
```

### 2. 余额门槛不是问题

```
繁殖所需余额: 11 USDC (8 门槛 + 3 成本)
V2 平均余额:  26 USDC
所有 Agent 都满足余额要求，只是阶段不够
```

### 3. 高初始余额带来更好的稳定性

```
V1 最低余额: 0.0001 USDC (接近死亡)
V2 最低余额: 24.43 USDC (安全范围)

结论: 30 USDC 初始余额提供了足够的安全垫
```

---

## 🎯 建议

### 如果要触发繁殖

```bash
# 建议实验配置
初始余额: 30 USDC (已满足)
实验时长: 至少 40 分钟 (到达 adult + 繁殖机会)
Agent 数: 10 个 (已满足)
```

### 如果要触发结束条件

| 条件 | 当前值 | 目标 | 需要 |
|------|--------|------|------|
| A (余额>500) | 28.72 | 500 | 增长 17 倍 |
| B (年龄>720) | 17 | 720 | 再运行 12 小时 |
| C (后代>50%) | 0 | >50% | 先触发繁殖 |

---

## 📝 结论

### 实验结束原因
**外部中断** - 进程因超时或手动操作而停止，非条件触发。

### 繁殖未触发原因
**阶段限制** - 实验在 juvenile 阶段 (17 ticks) 结束，未达到 adult 阶段 (30 ticks) 的繁殖门槛。

### 改进建议
1. **延长实验时间** - 至少运行 40-60 分钟以观察繁殖
2. **降低繁殖门槛** - 修改代码减少 NEONATE/JUVENILE 持续时间
3. **提高初始余额** - 测试 50/100 USDC 看是否能更快积累财富

---

*分析报告基于源代码和实验数据生成*  
*数据目录: experiment_logs_v2/*
